"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5210,8987],{15886:function(a,b,c){c.d(b,{Z:function(){return j}});var d=c(41249),e=c(70184),f=c.n(e),g=c(67908),h=c(22056),i=c(75479);function j(){var a,b,c=(0,i.E)(),e=(0,g.useQueryClient)(),j=(a=(0,d.Z)(f().mark(function a(b){var d,e,g;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=b.userId,e=b.roleId,a.next=3,c.put("/users/".concat(d,"/roles/").concat(e));case 3:return g=a.sent.data,a.abrupt("return",g);case 5:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)});return(0,g.useMutation)(j,{onSuccess:(b=(0,d.Z)(f().mark(function a(b,c){var d,g;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=c.userId,g=c.roleId,a.next=3,Promise.all([e.invalidateQueries(h.X.user.detail(d)),e.invalidateQueries(h.X.role.users(g)),]);case 3:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)})})}},14508:function(a,b,c){var d=c(41249),e=c(70184),f=c.n(e),g=c(67908),h=c(22056),i=c(75479);b.Z=function(){var a,b,c=(0,i.E)(),e=(0,g.useQueryClient)(),j=(a=(0,d.Z)(f().mark(function a(b){var d,e;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=b.userId,e=b.requestConfig,a.next=3,c.delete("/users/".concat(d),e);case 3:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)});return(0,g.useMutation)(j,{onSuccess:(b=(0,d.Z)(f().mark(function a(b,c){var d,g;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(d=c.userId,!(g=c.onSuccess)){a.next=4;break}return a.next=4,g();case 4:return e.removeQueries({queryKey:h.X.user.detail(d)}),a.next=7,e.invalidateQueries({queryKey:h.X.user.all(),refetchInactive:!0});case 7:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)})})}},15550:function(a,b,c){c.d(b,{Z:function(){return j}});var d=c(41249),e=c(70184),f=c.n(e),g=c(67908),h=c(22056),i=c(75479);function j(){var a,b,c=(0,i.E)(),e=(0,g.useQueryClient)(),j=(a=(0,d.Z)(f().mark(function a(b){var d,e,g;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=b.userId,e=b.input,g=b.requestConfig,a.next=3,c.patch("/users/".concat(d),e,g);case 3:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)});return(0,g.useMutation)(j,{onSuccess:(b=(0,d.Z)(f().mark(function a(b,c){var d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=c.userId,a.next=3,Promise.all([e.invalidateQueries(h.X.user.detail(d)),e.invalidateQueries(h.X.user.me()),e.invalidateQueries({queryKey:h.X.user.all(),refetchInactive:!0}),]);case 3:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)})})}},18987:function(a,b,c){c.d(b,{Z:function(){return j}});var d=c(41249),e=c(70184),f=c.n(e),g=c(67908),h=c(22056),i=c(75479);function j(a,b){var c,e=(0,i.E)(),j=(c=(0,d.Z)(f().mark(function b(){var c,d;return f().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c=void 0!==a?"/admin/licenses/".concat(a):"license",b.next=3,e.get(c);case 3:return d=b.sent.data,b.abrupt("return",d);case 5:case"end":return b.stop()}},b)})),function(){return c.apply(this,arguments)});return(0,g.useQuery)(void 0!==a?h.X.license.detail(a):h.X.license.own(),j,b)}},37075:function(a,b,c){c.d(b,{Z:function(){return j}});var d=c(41249),e=c(70184),f=c.n(e),g=c(67908),h=c(22056),i=c(75479);function j(a,b){var c,e=(0,i.E)(),j=(c=(0,d.Z)(f().mark(function b(){var c,d;return f().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c=a?"/admin/organizations/".concat(a):"/organization",b.next=3,e.get(c);case 3:return d=b.sent.data,b.abrupt("return",d);case 5:case"end":return b.stop()}},b)})),function(){return c.apply(this,arguments)});return(0,g.useQuery)(a?h.X.organization.detail(a):h.X.organization.all(),j,{enabled:b})}},45564:function(a,b,c){c.d(b,{Z:function(){return j}});var d=c(41249),e=c(70184),f=c.n(e),g=c(67908),h=c(22056),i=c(75479);function j(a,b,c){var e,j=(0,i.E)(),k=b||{},l=k.withGroups,m=k.withRoles,n=[];m&&n.push("roles"),l&&n.push("groups");var o=(e=(0,d.Z)(f().mark(function b(){var c;return f().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,j.get("/users/".concat(a),{params:{includes:n}});case 2:return c=b.sent.data,b.abrupt("return",c);case 4:case"end":return b.stop()}},b)})),function(){return e.apply(this,arguments)});return(0,g.useQuery)(h.X.user.detail(a),o,c)}},56245:function(a,b,c){c.d(b,{t:function(){return n}});var d=c(15865),e=c(89411),f=c(66082),g=c(94276),h=c(20154),i=c(16153),j=c(83206),k=c(11753),l=c(46951),m=c(93082),n=function(a){var b,c=a.attr,n=a.license,o=a.fix,p=[];return(c.licenseTest!==n.testLicense&&p.push((0,d.BX)("li",{children:["my.anydesk expected testLicense to be ",String(!!c.licenseTest)," but saw"," ",String(n.testLicense)]},"trial")),c.licenseExpiration!==n.expires&&p.push((0,d.BX)("li",{children:["my.anydesk expected license expiration to be"," ",(0,d.tZ)(m.uE,{children:null!==(b=c.licenseExpiration)&& void 0!==b?b:0})," but saw"," ",(0,d.tZ)(m.uE,{children:n.expires})]},"expires")),c.licenseProduct!==n.product&&p.push((0,d.BX)("li",{children:["my.anydesk expected license product to be ",c.licenseProduct," but saw ",n.product]},"product")),p.length)?(0,d.BX)(h.Z,{children:[(0,d.tZ)(k.Z,{title:"License Check"}),(0,d.tZ)(j.Z,{children:(0,d.BX)(f.ZP,{container:!0,children:[(0,d.tZ)(f.ZP,{item:!0,xs:1,children:(0,d.tZ)(e.Icons.AlertTriangle,{size:"lg"})}),(0,d.tZ)(f.ZP,{item:!0,xs:11,children:(0,d.BX)(l.Z,{variant:"body2",children:["The license recorded in the license manager and the license attached to the user are different! Please Check license assignment!",(0,d.tZ)("ul",{children:p})]})})]})}),(0,d.tZ)(i.Z,{children:(0,d.tZ)(g.Z,{variant:"contained",onClick:o,children:"Fix it"})})]}):null}},17443:function(a,b,c){var d=c(28409),e=c(15865),f=c(2794),g=c(46951),h=c(57744),i=function(a){var b=a.disableTypography,c=a.children,i=a.variant,j=void 0===i?"body2":i,k=a.fontWeight,l=void 0===k?400:k,m=a.color,n=void 0===m?"unset":m,o=a.width,p=a.minWidth,q=a.maxWidth,r=a.link,s=a.sx,t=(0,d.Z)({},o&&{width:o},p&&{minWidth:p},q&&{maxWidth:q},s);return(0,e.tZ)(f.Z,{sx:t,children:r?(0,e.tZ)(h.W,{href:r,variant:j,fontWeight:l,color:n,children:c}):void 0!==b&&b?c:(0,e.tZ)(g.Z,{variant:j,fontWeight:l,color:n,children:c})})};b.Z=i},70297:function(a,b,c){c.d(b,{Z:function(){return j}});var d=c(15865),e=c(89411),f=c(2794),g=c(46951),h=c(17280),i=function(a){var b=a.groups;return(0,d.tZ)(f.Z,{ml:"10px",children:b.map(function(a){return(0,d.BX)(f.Z,{py:.5,display:"flex",alignItems:"center",children:[(0,d.tZ)(e.Icons.Groups,{}),(0,d.tZ)(h.rU,{sx:{ml:1},color:"secondary",href:"/groups/".concat(a.groupId),variant:"body2",underline:"hover",fontWeight:"500",children:a.path})]},a.groupId)})})},j=function(a){var b=a.joinedGroups,c=a.resource,e=b;return(0,d.tZ)(d.HY,{children:e.length?(0,d.tZ)(i,{groups:e}):(0,d.BX)(g.Z,{color:"textPrimary",variant:"subtitle2",children:["The ","users"===c?"user":"role"," has not been assigned to any group."]})})}},37002:function(a,b,c){c.d(b,{Y:function(){return t},l:function(){return u}});var d=c(28409),e=c(72569),f=c(29240),g=c(15865),h=c(92182),i=c(70079),j=c(20154),k=c(83206),l=c(11753),m=c(12303),n=c(37075),o=c(17280),p=c(13357),q=c(91524),r=c(75677),s=c(82984),t=(0,q.Z)(function(a){var b,c,h,q=a.organizationId,t=a.title,u=(0,f.Z)(a,["organizationId","title"]),v=(0,n.Z)(q),w=v.data,x=v.isLoading,y=v.error,z=(0,s.L)().isInstanceAdmin;if(x)return(0,g.tZ)(p.Z,{});if(y)throw y;if(!w)throw Error("Organization detail error: no data");var A=function(a){var b,c;return null!==(h=null===(c=null===(b=a.federationLinks)|| void 0===b?void 0:b.find(function(a){return a.identityProvider===r.xs}))|| void 0===c?void 0:c.userId)&& void 0!==h?h:0};return(0,g.BX)(j.Z,(0,e.Z)((0,d.Z)({},u),{children:[(0,g.tZ)(l.Z,{title:null!=t?t:"About"}),(0,g.tZ)(k.Z,{children:(0,g.BX)(o.rA,{children:[z&&(0,g.tZ)(o.VT,{label:"Organization ID",value:w.organizationId,href:"/superadmin/organizations/".concat(w.organizationId)}),(0,g.tZ)(o.VT,{label:"Name",value:w.name}),(0,g.tZ)(o.VT,{label:"Description",value:w.description}),(0,g.tZ)(o.VT,{label:"Industry",value:w.industry}),(0,g.tZ)(o.VT,{label:"Locales",value:null===(b=w.supportedLocales)|| void 0===b?void 0:b.map(function(a){return(0,g.tZ)(i.Fragment,{children:a===(null==w?void 0:w.defaultLocale)?(0,g.tZ)(m.Z,{label:a.toLowerCase(),size:"small",sx:{mr:.5,mb:.5}}):(0,g.tZ)(g.HY,{children:""!==a&&(0,g.tZ)(m.Z,{label:a.toLowerCase(),size:"small",variant:"outlined",sx:{mr:.5,mb:.5}})})},a)})}),(0,g.tZ)(o.VT,{label:"Owners",value:null===(c=w.owners)|| void 0===c?void 0:c.map(function(a,b){return(0,g.BX)(i.Fragment,{children:[b>0?", ":null,0!==A(a)?(0,g.tZ)("a",{href:"/users/".concat(A(a)),children:a.email}):a.email]},a.userId)})}),z&&(0,g.tZ)(o.VT,{label:"Version",value:w.version})]})})]}))},{layout:"card",title:"About"}),u=function(a){var b=String((0,h.useRouter)().query.organizationId);return(0,g.tZ)(t,(0,d.Z)({organizationId:b},a))}},33857:function(a,b,c){var d=c(28409),e=c(72569),f=c(29240),g=c(15865),h=c(46951),i=c(17280),j=c(57744),k=function(){return(0,g.tZ)(i.om,{label:"Federated",icon:"info",color:"blue"})},l=function(a){var b=a.role,c=a.isLink,i=(0,f.Z)(a,["role","isLink"]);return c?(0,g.BX)(g.HY,{children:[(0,g.tZ)(j.Z,{color:"secondary",href:"/roles/".concat(b.roleId),variant:"subtitle1",underline:"hover",fontWeight:"500",children:(0,g.tZ)(h.Z,(0,e.Z)((0,d.Z)({},i),{children:b.name}))},b.roleId),b.federated&&(0,g.tZ)(k,{})]}):(0,g.BX)(h.Z,(0,e.Z)((0,d.Z)({},i),{variant:"body2",display:"inline-flex",columnGap:1,children:[b.name,b.federated&&(0,g.tZ)(k,{})]}))};b.Z=l},87777:function(a,b,c){c.d(b,{k:function(){return u}});var d=c(28409),e=c(72569),f=c(29240),g=c(15865),h=c(92182),i=c(70079),j=c(94276),k=c(20154),l=c(83206),m=c(11753),n=c(15541),o=c(4825),p=c(17280),q=c(13357),r=c(91524),s=c(82984),t=c(72163),u=(0,r.Z)(function(a){var b,c,h,r=a.teamId,u=a.title,v=(0,f.Z)(a,["teamId","title"]),w=(0,i.useState)(!1),x=w[0],y=w[1],z=(0,o.Z)(r),A=z.data,B=z.isLoading,C=z.error,D=(0,s.L)().isInstanceAdmin;if(B)return(0,g.tZ)(q.Z,{layout:"card"});if(C)throw C;if(!A)throw Error("Organization detail error: no data");var E=function(){return y(!0)},F=function(){return y(!1)},G=x?(0,g.tZ)(j.Z,{size:"medium",variant:"contained",onClick:F,children:"Close"}):(0,g.tZ)(n.Z,{title:"Coming soon",arrow:!0,placement:"bottom",children:(0,g.tZ)("span",{children:(0,g.tZ)(j.Z,{color:"primary",size:"medium",variant:"contained",onClick:E,disabled:!0,children:"Edit"})})});return(0,g.BX)(k.Z,(0,e.Z)((0,d.Z)({},v),{children:[(0,g.tZ)(m.Z,{action:G,title:null!=u?u:"About"}),(0,g.tZ)(l.Z,{children:(0,g.BX)(p.rA,{children:[D&&(0,g.tZ)(p.VT,{label:"Team ID",value:A.teamId,href:"/superadmin/teams/".concat(A.teamId)}),(0,g.tZ)(p.VT,{label:"Name",value:(0,t.$G)(A.name)}),(0,g.tZ)(p.VT,{label:"Description",value:A.description}),(0,g.tZ)(p.VT,{label:"Owner User ID",value:null!==(b=A.ownerUserId)&& void 0!==b?b:"none"}),(0,g.tZ)(p.VT,{label:"Subscription ID",value:null!==(c=A.subscriptionId)&& void 0!==c?c:"none"}),(0,g.tZ)(p.VT,{label:"Customer ID",value:null!==(h=A.customerId)&& void 0!==h?h:"none"})]})})]}))},{layout:"card",title:"About"}),v=function(a){var b=String((0,h.useRouter)().query.teamId);return(0,g.tZ)(u,(0,d.Z)({teamId:b},a))};b.Z=v},8672:function(a,b,c){c.d(b,{Z:function(){return bj}});var d=c(41249),e=c(70184),f=c.n(e),g=c(15865),h=c(71366),i=c(70079),j=c(10969),k=c(66082),l=c(20154),m=c(83206),n=c(11753),o=c(67908),p=c(22056),q=c(75479);function r(){var a,b,c=(0,o.useQueryClient)(),e=(0,q.E)(),g=(a=(0,d.Z)(f().mark(function a(b){var c,d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.userId,d=b.licenseId,a.next=3,e.post("/admin/users/".concat(c,"/license"),{licenseId:d});case 3:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)});return(0,o.useMutation)(g,{onSuccess:(b=(0,d.Z)(f().mark(function a(b,d){var e;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=d.userId,a.abrupt("return",c.invalidateQueries(p.X.user.detail(e)));case 2:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)})})}var s=c(17280),t=c(56245),u=c(91524),v=c(37002),w=c(87777),x=c(89411),y=c(94276),z=c(75093),A=function(a){var b,c,e,h,i,k=a.isOpen,l=a.hide,m=a.apiKey,n=(b=(0,q.E)(),c=(0,o.useQueryClient)(),h=(e=(0,d.Z)(f().mark(function a(c){var d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=c.apiKey,a.next=3,b.delete("/api-keys/".concat(d));case 3:case"end":return a.stop()}},a)})),function(a){return e.apply(this,arguments)}),(0,o.useMutation)(h,{onSuccess:(0,d.Z)(f().mark(function a(){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",c.invalidateQueries(p.X.user.api_keys()));case 1:case"end":return a.stop()}},a)}))})),r=(i=(0,d.Z)(f().mark(function a(){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",n.mutateAsync({apiKey:m}).then(function(){j.Am.success("API key deleted successfully")}).catch(function(a){var b=a.message;return j.Am.error(b)}));case 1:case"end":return a.stop()}},a)})),function(){return i.apply(this,arguments)});return(0,g.tZ)(g.HY,{children:(0,g.tZ)(z.Z,{isOpen:k,hide:l,onAccept:r,actionTitle:"Trash API key"})})},B=c(39175),C=c(28409),D=c(72569),E=c(29240),F=c(2794),G=c(74439),H=c(15541),I=c(44768),J=c(38302),K=c(17443),L=(0,J.ZP)(function(a){var b=a.className,c=(0,E.Z)(a,["className"]);return(0,g.tZ)(H.Z,(0,D.Z)((0,C.Z)({},c),{classes:{popper:b}}))})((0,B.Z)({},"& .".concat(I.Z.tooltip),{maxWidth:"none"})),M=function(a){return[{Header:"Description",accessor:"description",Cell:function(a){var b=a.row.original.description;return(0,g.tZ)(K.Z,{minWidth:{md:"10rem"},children:b})}},{Header:"Created",accessor:"created",Cell:function(a){var b=a.row.original.created;return(0,g.tZ)(K.Z,{children:(0,g.tZ)(s.ou,{children:b})})}},{Header:"Expires",accessor:"expires",Cell:function(a){var b=a.row.original.expires,c=b&&b<Date.now()&&(0,g.tZ)(s.om,{label:"expired",color:"red",icon:(0,g.tZ)(x.Icons.AlertTriangle,{size:"sm"})}),d=b?(0,g.tZ)(s.ou,{children:b}):"Never";return(0,g.BX)(K.Z,{disableTypography:!0,children:[(0,g.tZ)("span",{style:{marginRight:".25rem"},children:d}),c]})}},{Header:"Key",accessor:"key",Cell:function(b){var c=b.row.original.key,d=a.handleDelete;return(0,g.tZ)(K.Z,{maxWidth:"10rem",disableTypography:!0,children:(0,g.BX)(F.Z,{display:"flex",justifyContent:"space-between",ml:-1,children:[(0,g.tZ)(L,{title:c,placement:"top",children:(0,g.tZ)(G.Z,{color:"secondary","aria-label":"View key",children:(0,g.tZ)(x.Icons.Visibility,{})})}),(0,g.tZ)(H.Z,{title:"Copy key",placement:"top",children:(0,g.tZ)(F.Z,{children:(0,g.tZ)(s.qi,{item:c})})}),(0,g.tZ)(H.Z,{title:"Trash key",placement:"top",children:(0,g.tZ)(G.Z,{color:"secondary","aria-label":"Trash key",onClick:function(){return d(c)},children:(0,g.tZ)(x.Icons.Delete,{})})})]})})}},]},N=M,O=c(13357),P=c(5987),Q=function(){var a,b,c,e=(0,i.useState)([]),h=e[0],j=e[1],k=(a=(0,q.E)(),c=(b=(0,d.Z)(f().mark(function b(){var c;return f().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,a.get("/api-keys");case 2:return c=b.sent.data,b.abrupt("return",c);case 4:case"end":return b.stop()}},b)})),function(){return b.apply(this,arguments)}),(0,o.useQuery)(p.X.user.api_keys(),c)),l=k.data,m=k.isLoading;(0,i.useEffect)(function(){l&&j(l)},[l]);var n=(0,P.Z)(A),r=n.dialog,t=n.show;if(m)return(0,g.tZ)(O.Z,{layout:"circular"});var u,v=(u=(0,d.Z)(f().mark(function a(b){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",t({apiKey:b}));case 1:case"end":return a.stop()}},a)})),function(a){return u.apply(this,arguments)}),w=N({handleDelete:v});return(0,g.BX)(g.HY,{children:[(0,g.tZ)(s.a1,{data:h,columns:w,noEntriesMsg:"You don't have any API Keys yet",children:(0,g.tZ)(s.iA,{})}),r]})},R=c(38831),S=c(24682),T=c(49602),U=c(46951),V=function(a){var b,c,e,h,k,l=a.isOpen,m=a.hide,n=(0,i.useState)(""),r=n[0],t=n[1],u=(0,i.useState)(null),v=u[0],w=u[1],x=(0,i.useState)(!0),y=x[0],A=x[1],B=(b=(0,q.E)(),c=(0,o.useQueryClient)(),h=(e=(0,d.Z)(f().mark(function a(c){var d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.post("/api-keys",c);case 2:return d=a.sent.data,a.abrupt("return",d);case 4:case"end":return a.stop()}},a)})),function(a){return e.apply(this,arguments)}),(0,o.useMutation)(function(a){return h(a)},{onSuccess:(0,d.Z)(f().mark(function a(){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.invalidateQueries(p.X.user.api_keys());case 2:case"end":return a.stop()}},a)}))})),C=new Date(Date.now()+864e5),D=(k=(0,d.Z)(f().mark(function a(){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",B.mutateAsync({description:r,expires:(null==v?void 0:v.getTime())||null}).then(function(){j.Am.success("API key generated successfully")}).catch(function(a){var b=a.message;return j.Am.error(b)}));case 1:case"end":return a.stop()}},a)})),function(){return k.apply(this,arguments)}),E=(0,g.BX)(g.HY,{children:[(0,g.BX)(F.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",mt:1.5,mb:3,children:[(0,g.tZ)(U.Z,{width:"50%",variant:"body2",className:"required",children:"Description"}),(0,g.tZ)(T.Z,{placeholder:"Description",variant:"standard",value:r,onChange:function(a){t(a.target.value)},fullWidth:!0,required:!0})]}),(0,g.tZ)(s.Go,{id:"expires",label:"Expires",date:v,errorText:y?void 0:"Invalid date",minDate:C,handleOnChange:function(a){if((0,R.Z)(a)||null===a){var b=null===a||!(0,S.Z)(a,C);A(b)}else A(!1);w(a)}})]});return(0,g.tZ)(g.HY,{children:(0,g.tZ)(z.Z,{isOpen:l,hide:m,onAccept:D,actionTitle:"Create an API key",actionContent:E,actionBtnText:"Generate API key",isActionDisabled:""===r||!y})})},W=function(){var a=(0,P.Z)(V),b=a.dialog,c=a.show,d=function(){return c()},e=(0,g.tZ)(y.Z,{sx:{m:1},startIcon:(0,g.tZ)(x.Icons.Add,{}),onClick:d,variant:"contained",size:"small",children:"Create API Key"});return(0,g.BX)(g.HY,{children:[(0,g.tZ)(s.em,{title:"API Keys",action:e,content:(0,g.tZ)(Q,{})}),b]})},X=c(69792),Y=c(69330),Z=function(){var a,b,c=(0,q.E)(),e=(0,o.useQueryClient)(),g=(a=(0,d.Z)(f().mark(function a(b){var d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=b.input,a.next=3,c.post("/users/me/otp/setup",d);case 3:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)});return(0,o.useMutation)(g,{onSuccess:(b=(0,d.Z)(f().mark(function a(b,c){var d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=c.userId,a.next=3,Promise.all([e.invalidateQueries(p.X.user.me()),e.invalidateQueries(p.X.user.detail(d)),]);case 3:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)})})},$=c(95003),_=function(){var a,b,c=(0,q.E)(),e=(0,o.useQueryClient)(),g=(a=(0,d.Z)(f().mark(function a(){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.delete("/users/me/otp");case 2:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});return(0,o.useMutation)(g,{onSuccess:(b=(0,d.Z)(f().mark(function a(b,c){var d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=c.userId,a.next=3,Promise.all([e.invalidateQueries(p.X.user.me()),e.invalidateQueries(p.X.user.detail(d)),]);case 3:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)})})},aa=function(){var a,b=(0,q.E)(),c=(0,o.useQueryClient)(),e=(a=(0,d.Z)(f().mark(function a(c){var d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=c.deviceId,a.next=3,b.delete("/users/me/otp/".concat(d));case 3:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)});return(0,o.useMutation)(e,{onSuccess:(0,d.Z)(f().mark(function a(){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",c.invalidateQueries(p.X.user.me()));case 1:case"end":return a.stop()}},a)}))})},ab=function(a){var b,c=a.isOpen,e=a.hide,h=a.userId,i=a.deviceId,k=_(),l=aa(),m=(b=(0,d.Z)(f().mark(function a(){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(!i&&!h)){a.next=2;break}return a.abrupt("return");case 2:if(!i){a.next=5;break}return a.next=5,l.mutateAsync({deviceId:i}).then(function(){j.ZP.success("MFA device deleted")}).catch(function(a){j.ZP.error(a.message)});case 5:if(!h){a.next=8;break}return a.next=8,k.mutateAsync({userId:h}).then(function(){j.ZP.success("MFA deleted")}).catch(function(a){j.ZP.error(a.message)});case 8:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)});return(0,g.tZ)(z.Z,{isOpen:c,hide:e,onAccept:m,actionTitle:"Delete Multi-Factor Authentication",actionContent:"This action can not be undone! Are you sure you want to proceed?"})},ac=c(82984),ad=c(93893),ae=(0,J.ZP)(F.Z)(function(a){return{display:"flex",justifyContent:"space-between",border:"1px solid #e7e7e7",borderRadius:a.theme.shape.borderRadius}}),af=(0,J.ZP)(y.Z)(function(a){var b=a.theme;return{fontWeight:b.typography.fontWeightMedium,"&:disabled":{color:b.palette.secondary.main}}}),ag=(0,J.ZP)(G.Z)(function(a){var b=a.theme;return{paddingRight:b.spacing(2),paddingLeft:b.spacing(2),"&:hover":{borderTopLeftRadius:0,borderBottomLeftRadius:0}}}),ah=function(a){var b=a.devices,c=a.isEditMode,d=void 0!==c&&c,e=(0,P.Z)(ab),f=e.show,h=e.dialog,j=(0,i.useCallback)(function(a){f({deviceId:a.currentTarget.value})},[f]);return(0,g.BX)(g.HY,{children:[b.map(function(a){return(0,g.tZ)(k.ZP,{item:!0,rowSpacing:1,columnSpacing:1,xs:12,lg:6,children:(0,g.BX)(ae,{children:[(0,g.tZ)(af,{startIcon:(0,g.tZ)(x.Icons.PhoneIphone,{}),disabled:!0,children:a.label}),d&&(0,g.tZ)(ag,{value:a.id,size:"small","aria-label":"delete",onClick:j,children:(0,g.tZ)(x.Icons.Close,{})})]})},a.id)}),h]})},ai=function(a){var b,c,e,h,r,t,u,v,w,x,z,A=a.user,B=(0,i.useState)(!1),C=B[0],D=B[1],E=(0,i.useState)(!1),G=E[0],H=E[1],I=(0,ac.L)(),J=(0,P.Z)(ab,{userId:A.userId}),K=J.show,L=J.dialog,M=Z(),N=(h={refetchOnReconnect:!1,refetchOnWindowFocus:!1,refetchInterval:!1},r=(0,q.E)(),u=(t=(0,d.Z)(f().mark(function a(){var b;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.get("/users/me/otp/setup",void 0);case 2:return b=a.sent.data,a.abrupt("return",b);case 4:case"end":return a.stop()}},a)})),function(){return t.apply(this,arguments)}),(0,o.useQuery)(p.X.user.otp_setup(),u,h)),Q=N.data,R=N.isLoading,S=N.isError,V=N.error,W=(v=(0,q.E)(),x=(w=(0,d.Z)(f().mark(function a(){var b;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.get("/users/me/otp");case 2:return b=a.sent.data,a.abrupt("return",b);case 4:case"end":return a.stop()}},a)})),function(){return w.apply(this,arguments)}),(0,o.useQuery)(p.X.user.otp(),x,void 0)),_=W.data,aa=W.isLoading,ae=W.isError,af=W.error,ag=(0,X.TA)({initialValues:{deviceName:"",initialCode:"",secret:""},enableReinitialize:!0,validationSchema:ad.$u,onSubmit:(z=(0,d.Z)(f().mark(function a(b,c){var d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=c.resetForm,H(!0),a.next=4,M.mutateAsync({input:b,userId:A.userId}).then(function(){d(),D(!1),j.ZP.success("MFA enabled!")}).catch(function(a){var b;if((null===(b=a.response)|| void 0===b?void 0:b.status)===409){d(),D(!1);return}j.ZP.error(a.message)}).finally(function(){return H(!1)});case 4:case"end":return a.stop()}},a)})),function(a,b){return z.apply(this,arguments)})});if(R||aa)return(0,g.tZ)(O.Z,{layout:"card"});var ai=function(){return I.api.users.self.update?(0,g.BX)(g.HY,{children:[A.otpEnabled&&C&&(0,g.tZ)(y.Z,{size:"small",variant:"outlined",color:"secondary",sx:{mr:1},onClick:K,children:"Delete All"}),(0,g.tZ)(y.Z,{size:"small",variant:"contained",onClick:function(){return D(!C)},children:C?"Close":"Edit"})]}):(0,g.tZ)(g.HY,{})};if(S&&!A.otpEnabled){var aj=null===V?null:(0,g.tZ)(U.Z,{children:String(V)}),ak=null!=aj?aj:(0,g.tZ)(g.HY,{children:(0,g.tZ)(U.Z,{children:"We encountered a problem while loading MFA settings. Please try again in a moment."})});return(0,g.tZ)($.Z,{title:"Multi-Factor Authentication",message:ak,headerAction:ai()})}if(ae)return(0,g.tZ)($.Z,{title:"Multi-Factor Authentication",message:String(af),headerAction:ai()});var al=null!==(b=null==_?void 0:_.map(function(a){return{id:a.id,label:a.userLabel}}))&& void 0!==b?b:[];return(0,g.BX)(l.Z,{children:[(0,g.tZ)(n.Z,{title:"Multi-Factor Authentication",action:ai()}),(0,g.BX)(m.Z,{children:[(0,g.BX)(k.ZP,{container:!0,rowSpacing:2,spacing:1,children:[(0,g.BX)(k.ZP,{item:!0,container:!0,rowSpacing:2,xs:12,alignContent:"baseline",children:[(0,g.tZ)(k.ZP,{item:!0,xs:5,children:(0,g.tZ)(U.Z,{color:"textPrimary",gutterBottom:!0,variant:"subtitle2",children:"State"})}),(0,g.tZ)(k.ZP,{item:!0,xs:7,pl:1,children:A.otpEnabled?(0,g.tZ)(s.om,{label:"Enabled",icon:"check",color:"green"}):(0,g.tZ)(s.om,{label:"Disabled",icon:"cancel",color:"gray"})})]}),A.otpEnabled&&(0,g.BX)(k.ZP,{item:!0,container:!0,rowSpacing:2,xs:12,alignContent:"baseline",children:[(0,g.tZ)(k.ZP,{item:!0,xs:5,children:(0,g.tZ)(U.Z,{color:"textPrimary",gutterBottom:!0,variant:"subtitle2",children:"Devices"})}),(0,g.tZ)(k.ZP,{item:!0,container:!0,columnSpacing:1,rowSpacing:1,xs:7,pl:1,children:(0,g.tZ)(ah,{devices:al,isEditMode:C})})]})]}),C&&!A.otpEnabled&&(0,g.tZ)("form",{onSubmit:ag.handleSubmit,children:(0,g.BX)(k.ZP,{container:!0,spacing:3,sx:{marginTop:1},children:[(0,g.BX)(k.ZP,{item:!0,xs:12,children:[(0,g.tZ)(U.Z,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:"Scan the QR code with your app (Google Authenticator, Authy, etc.)"}),(0,g.tZ)(F.Z,{display:"flex",justifyContent:"center",children:(0,g.tZ)("img",{src:"data:image/png;base64,".concat(null==Q?void 0:Q.qrCode),alt:"QR Code",style:{textAlign:"center"}})}),(0,g.tZ)(F.Z,{display:"flex",justifyContent:"center",children:(0,g.BX)(U.Z,{color:"textPrimary",gutterBottom:!0,variant:"subtitle2",children:["Or enter manually secret key:",(0,g.tZ)(F.Z,{component:"pre",pl:1,display:"inline",children:null==Q?void 0:Q.secret})]})})]}),(0,g.tZ)(k.ZP,{item:!0,xs:12,children:(0,g.tZ)(T.Z,{fullWidth:!0,id:"deviceName",name:"deviceName",label:"Device name",value:null!==(c=ag.values.deviceName)&& void 0!==c?c:"",onChange:ag.handleChange,error:ag.touched.deviceName&&Boolean(ag.errors.deviceName),helperText:ag.touched.deviceName&&ag.errors.deviceName})}),(0,g.tZ)(k.ZP,{item:!0,xs:12,children:(0,g.tZ)(T.Z,{fullWidth:!0,id:"initialCode",name:"initialCode",label:"Code from authenticator app",value:null!==(e=ag.values.initialCode)&& void 0!==e?e:"",onChange:ag.handleChange,error:ag.touched.initialCode&&Boolean(ag.errors.initialCode),helperText:ag.touched.initialCode&&ag.errors.initialCode})}),(0,g.tZ)(k.ZP,{item:!0,xs:12,children:(0,g.tZ)(F.Z,{children:(0,g.tZ)(Y.Z,{onClick:function(){return ag.setFieldValue("secret",null==Q?void 0:Q.secret)},variant:"contained",fullWidth:!0,loading:G,type:"submit",children:"Enable MFA"})})})]})})]}),L]})},aj=function(){var a,b=(0,q.E)(),c=(a=(0,d.Z)(f().mark(function a(c){var d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=c.input,a.next=3,b.post("/users/me/password/reset",d);case 3:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)});return(0,o.useMutation)(c)},ak=c(13130),al=c(75677),am=c(59618),an=c(29934),ao=c(78953),ap=function(a){var b,c,e,h=a.setIsEditing,i=aj(),k=(0,am.cI)({initialValues:{currentPassword:"",password:"",passwordConfirmation:""},validations:{currentPassword:function(a){return(0,am.C1)(a,"Current password is required")},password:function(a){return(0,am.Gu)((0,am.C1)(a,"Password confirmation is required"),(0,am.Sz)(ao.BR,a,"Spaces are not allowed"),(0,am.QH)(8,a,"Password must be at least 8 characters long"),(0,am.Yi)(64,a,"Password cannot exceed 64 characters"),(0,am.Sz)(ao.BV,a,"Password must contain at least one upper case, one lower case, one numerical character and must be at least 8 characters long. It cannot exceed 64 characters. Special characters are allowed."))},passwordConfirmation:function(a,b){var c=b.password;return(0,am.Gu)((0,am.C1)(a,"Password confirmation is required"),(0,am.Sz)(ao.BR,a,"Spaces are not allowed"),(0,am.qu)(a,c,"Passwords must match"))}},onSubmit:(0,d.Z)(f().mark(function a(){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.mutateAsync({input:{currentPassword:m.currentPassword,newPassword:m.password}}).then(function(){h(!1),j.ZP.success("Password changed")}).catch(function(a){var b=a.response,c=null==b?void 0:b.data,d=c.id,e=c.message;400006===d?j.ZP.error(an.n5.WRONG_PASSWORD):j.ZP.error(e)});case 2:case"end":return a.stop()}},a)}))}),l=k.isSubmitting,m=k.data,n=k.errors,o=k.handleChange,p=k.handleSubmit,q=m.currentPassword,r=m.password,s=m.passwordConfirmation;return(0,g.BX)("form",{onSubmit:p,children:[(0,g.tZ)(ak.C,{type:"password",passwordToggleTime:al.bP,value:q,label:"Current password",onBlur:o("currentPassword"),errorText:null===(b=n.currentPassword)|| void 0===b?void 0:b.message}),(0,g.tZ)("strong",{children:" Note: "})," A password must contain at least one upper case, one lower case, one numerical character and must be at least 8 characters long. It cannot exceed 64 characters. Special characters are allowed.",(0,g.tZ)(ak.C,{type:"password",passwordToggleTime:al.bP,value:r,label:"New password",onBlur:o("password"),errorText:null===(c=n.password)|| void 0===c?void 0:c.message}),(0,g.tZ)(ak.C,{type:"password",passwordToggleTime:al.bP,value:s,label:"Confirm new password",onBlur:o("passwordConfirmation"),errorText:null===(e=n.passwordConfirmation)|| void 0===e?void 0:e.message}),(0,g.tZ)(F.Z,{children:(0,g.tZ)(Y.Z,{variant:"contained",fullWidth:!0,loading:l,type:"submit",children:"Change password"})})]})},aq=function(){var a=(0,i.useState)(!1),b=a[0],c=a[1],d=(0,g.tZ)(y.Z,{size:"small",variant:"contained",onClick:function(){return c(!b)},children:b?"Close":"Edit"});return(0,g.BX)(l.Z,{children:[(0,g.tZ)(n.Z,{title:"Security",action:d}),(0,g.BX)(m.Z,{children:[!b&&(0,g.tZ)(s.rA,{children:(0,g.tZ)(s.VT,{label:"Password",value:al.RO})}),b&&(0,g.tZ)(ap,{setIsEditing:c})]})]})},ar=c(1506),as=c(94100),at=c(47390),au=c(59338),av=c(2486),aw=c(22440),ax=c(74599),ay=function(a){var b,c,e,h,k,l,m,n,r,s,t=a.group,u=a.userId,v=a.joinedGroupIds,w=a.implicitlyJoinedGroupPaths,z=(0,E.Z)(a,["group","userId","joinedGroupIds","implicitlyJoinedGroupPaths"]),A=(0,i.useState)(!1),B=A[0],G=A[1],H=(0,au.Z)(),I=(k=(0,q.E)(),l=(0,o.useQueryClient)(),n=(m=(0,d.Z)(f().mark(function a(b){var c,d,e;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.userId,d=b.groupId,a.next=3,k.delete("/users/".concat(c,"/groups/").concat(d));case 3:return e=a.sent.data,a.abrupt("return",e);case 5:case"end":return a.stop()}},a)})),function(a){return m.apply(this,arguments)}),(0,o.useMutation)(n,{onSuccess:(r=(0,d.Z)(f().mark(function a(b,c){var d,e;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=c.userId,e=c.groupId,a.next=3,Promise.all([l.invalidateQueries(p.X.user.detail(d)),l.invalidateQueries(p.X.group.detail(e)),]);case 3:case"end":return a.stop()}},a)})),function(a,b){return r.apply(this,arguments)})})),J=-1!==v.indexOf(t.groupId),K=-1!==w.indexOf(t.path||"");J?(c="accented",e=x.Icons.Remove,h="Leave group ".concat(t.name)):K?(c="accented-light",e=x.Icons.CheckCircle,h="Implicitly joined"):(c="default",e=x.Icons.AddCircleOutline,h="Join group ".concat(t.name));var L=(s=(0,d.Z)(f().mark(function a(){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,G(!0),J){a.next=7;break}return a.next=5,H.mutateAsync({userId:u,groupId:t.groupId});case 5:a.next=9;break;case 7:return a.next=9,I.mutateAsync({userId:u,groupId:t.groupId});case 9:j.Am.success("Group ".concat(t.name," ").concat(J?"removed":"assigned"," successfully."),{id:"userGroupAssignmentSuccess"}),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(0),console.error("failed ".concat(J?"leaving":"joining"," group with id ").concat(t.groupId)),j.Am.error(a.t0.response.data.message);case 16:return a.prev=16,G(!1),a.finish(16);case 19:case"end":return a.stop()}},a,null,[[0,12,16,19]])})),function(){return s.apply(this,arguments)});return(0,g.tZ)(aw.Z,(0,D.Z)((0,C.Z)({},z),{nodeId:t.groupId,labelComponent:function(a){var b=a.icon;return(0,g.BX)(F.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,g.BX)(F.Z,{display:"flex",alignItems:"center",children:[(0,g.tZ)(F.Z,{display:"flex",alignItems:"center",mr:"5px",children:(0,g.tZ)(x.Icons.Groups,{})}),(0,g.tZ)("span",{children:t.name}),(0,g.tZ)("span",{children:b})]}),(0,g.tZ)(y.Z,{onClick:L,disabled:B||K&&!J,className:(0,ar.Z)(c,"actionButton"),title:h,children:(0,g.tZ)(e,{})})]})},color:c,children:(null===(b=t.childGroups)|| void 0===b?void 0:b.length)?t.childGroups.map(function(a){return(0,g.tZ)(ay,{group:a,userId:u,joinedGroupIds:v,implicitlyJoinedGroupPaths:w},a.path)}):null}))},az=function(a){var b=a.groups,c=a.joinedGroups,d=a.userId,e=(0,i.useMemo)(function(){return(0,ax.bD)(b)},[b]),f=(0,i.useMemo)(function(){return c.map(function(a){return a.groupId})},[c]),h=(0,i.useMemo)(function(){return(0,ax.fy)(c.map(function(a){return a.path||""}))},[c]);return(0,g.tZ)(as.Z,{"aria-label":"Edit user groups",disableSelection:!0,defaultExpanded:e,defaultCollapseIcon:(0,g.tZ)("span",{style:{display:"flex"},children:(0,g.tZ)(x.Icons.ChevronUp,{})}),defaultExpandIcon:(0,g.tZ)("span",{style:{display:"flex"},children:(0,g.tZ)(x.Icons.ChevronRight,{})}),defaultEndIcon:null,sx:{height:260,flexGrow:1,overflowY:"auto"},children:b.map(function(a){return(0,g.tZ)(ay,{group:a,userId:d,joinedGroupIds:f,implicitlyJoinedGroupPaths:h},a.path)})})},aA=function(a){var b=a.userId,c=a.joinedGroups,d=(0,av.Z)(),e=d.data,f=d.isLoading,h=(null==e?void 0:e.items)||[];return(0,g.tZ)(g.HY,{children:h.length?(0,g.tZ)(az,{groups:h,joinedGroups:c,userId:b}):f?(0,g.tZ)(at.Z,{}):(0,g.tZ)(U.Z,{color:"textPrimary",variant:"subtitle2",children:"There are no groups."})})},aB={tree:!1};function aC(a){var b,c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0,g=(0,q.E)(),h=(0,C.Z)({},aB,c),i=(b=(0,d.Z)(f().mark(function b(){var c,d;return f().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,g.get("/users/".concat(a,"/groups"),{params:h});case 2:return d=(c=b.sent).data,b.next=6,Promise.all(d.items.map(function(a){var b=a.groupId;return g.get("/groups/".concat(b))}));case 6:return b.abrupt("return",b.sent.map(function(a){return a.data}));case 7:case"end":return b.stop()}},b)})),function(){return b.apply(this,arguments)});return(0,o.useQuery)(p.X.user.groups(a,h),i,e)}var aD=c(70297),aE=function(a){var b=a.userId,c=(0,i.useState)(!1),d=c[0],e=c[1],f=(0,ac.L)(),h=aC(b),j=h.data,k=h.isLoading,o=h.isError,p=h.error;if(k)return(0,g.tZ)(O.Z,{layout:"card"});if(o||!j){var q=null===p?null:(0,g.tZ)(U.Z,{children:String(p)}),r=null!=q?q:(0,g.tZ)(g.HY,{children:(0,g.tZ)(U.Z,{children:"We encountered a problem while loading Groups. Please try again in a moment."})});return(0,g.tZ)($.Z,{title:"Groups",message:r})}var s=(0,g.tZ)(y.Z,{size:"small",variant:"contained",onClick:function(){return e(!d)},children:d?"Finish edit":"Edit"});return(0,g.BX)(l.Z,{children:[(0,g.tZ)(n.Z,{title:"Groups",action:f.api.groups.update&&s}),(0,g.tZ)(m.Z,{children:d?(0,g.tZ)(aA,{userId:b,joinedGroups:j}):(0,g.tZ)(aD.Z,{joinedGroups:j,resource:"users"})})]})},aF={limit:al.UZ},aG=c(15886),aH=c(67874),aI=function(a){var b=a.userId,c=a.userEmail,d=a.currentRoles,e=(0,E.Z)(a,["userId","userEmail","currentRoles"]),f=(0,aG.Z)(),h=function(a){return f.mutateAsync({userId:b,roleId:a})},i=function(a){return"Successfully added roles ".concat(a," to user ").concat(c,".")};return(0,g.tZ)(aH.Z,(0,D.Z)((0,C.Z)({id:"add-roles-to-user",title:"Add roles",placeholder:"Select roles",label:"Roles"},e),{mutation:h,successMessage:i,roles:d}))},aJ=function(a){var b,c,e,h,k,l,m=a.role,n=a.user,r=(0,i.useState)(!1),s=r[0],t=r[1],u=n.userId,v=m.roleId,w=(0,ac.L)().isDefaultOrg,y=(b=(0,q.E)(),c=(0,o.useQueryClient)(),h=(e=(0,d.Z)(f().mark(function a(c){var d,e,g;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=c.userId,e=c.roleId,a.next=3,b.delete("/users/".concat(d,"/roles/").concat(e));case 3:return g=a.sent.data,a.abrupt("return",g);case 5:case"end":return a.stop()}},a)})),function(a){return e.apply(this,arguments)}),(0,o.useMutation)(h,{onSuccess:(k=(0,d.Z)(f().mark(function a(b,d){var e,g;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=d.userId,g=d.roleId,a.next=3,Promise.all([c.invalidateQueries(p.X.user.detail(e)),c.invalidateQueries(p.X.role.users(g)),]);case 3:case"end":return a.stop()}},a)})),function(a,b){return k.apply(this,arguments)})})),z=(l=(0,d.Z)(f().mark(function a(){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t(!0),a.next=3,y.mutateAsync({userId:u,roleId:v}).then(function(){j.Am.success("Role ".concat(m.name," removed successfully."),{id:"userRoleAssignmentSuccess"})}).catch(function(a){var b=a.message;return j.Am.error(b)}).finally(function(){return t(!1)});case 3:case"end":return a.stop()}},a)})),function(){return l.apply(this,arguments)}),A=s||m.implicit||n.synced||n.federated||m.mapped&&!w,B=m.implicit?"Role is composite of other role so it cannot be removed":n.synced?"User and roles are managed by LDAP configuration":n.federated||m.mapped?"User and roles are managed by IDP configuration":"Loading...";return(0,g.BX)(F.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,g.BX)(U.Z,{variant:"subtitle1",children:[" ",m.name]}),(0,g.tZ)(H.Z,{title:A?B:"Remove role ".concat(m.name),placement:"right",children:(0,g.tZ)(F.Z,{children:(0,g.tZ)(Y.Z,{onClick:z,disabled:A,loading:s,color:"primary",children:(0,g.tZ)(x.Icons.Remove,{})})})})]})},aK=function(a){var b=a.user,c=a.joinedRoles;return(0,g.tZ)(g.HY,{children:c.length?c.map(function(a){return(0,g.tZ)(aJ,{role:a,user:b},a.roleId)}):(0,g.tZ)(U.Z,{color:"textPrimary",variant:"subtitle2",children:"The user does not have any role attached to it."})})},aL=c(57744),aM=c(33857),aN=function(a){var b=a.roles;return(0,g.tZ)(g.HY,{children:(null==b?void 0:b.length)>0?b.map(function(a){return(0,g.BX)(F.Z,{mb:"10px",children:[(0,g.tZ)(aM.Z,{role:a,isLink:!0}),!a.implicit&&(0,g.tZ)(U.Z,{variant:"body2",color:"GrayText",children:"linked to user"}),a.groups.length>0&&(0,g.BX)(U.Z,{variant:"body2",children:[a.implicit&&"also ","granted by\xa0",a.groups.map(function(b,c){var d,e,f,h;return(0,g.BX)("span",{children:[(0,g.tZ)(aL.Z,{color:"inherit",href:"/groups/".concat(b.groupId),variant:"subtitle2",underline:"hover",fontWeight:"500",title:b.path,children:b.name}),(d=c,d<(e=a.groups.length)-2)?", ":null,(f=c,f===(h=a.groups.length)-2)?" and ":null]},b.groupId)})]})]},a.roleId)}):(0,g.tZ)(U.Z,{variant:"subtitle2",children:"The user does not have any role."})})},aO=function(a){return Object.values(a.reduce(function(a,b){var c,d=a;return null===(c=b.roles)|| void 0===c||c.forEach(function(a){var c=a.roleId;d[c]?d[c].groups.push(b):d[c]=(0,D.Z)((0,C.Z)({},a),{groups:[b]})}),d},{}))},aP=function(a,b){var c=Object.fromEntries(b.map(function(a){return[a.roleId,a]}));return Object.values(a.reduce(function(a,b){var c=a,d=b.roleId;return c[d]?c[d].explicit=!1:c[d]=(0,D.Z)((0,C.Z)({},b),{explicit:!0,groups:[]}),c},c))},aQ=function(a){var b=a.user,c=(0,i.useState)(!1),e=c[0],h=c[1],j=b.userId,k=(0,ac.L)(),r=k.isDefaultOrg,s=k.api,t=(0,P.Z)(),u=t.open,v=t.show,w=t.hide,x=function(a){var b,c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0,g=(0,q.E)(),h=(0,C.Z)({},aF,c),i=(b=(0,d.Z)(f().mark(function b(){var c;return f().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,g.get("/users/".concat(a,"/roles"),{params:h});case 2:return c=b.sent.data,b.abrupt("return",c);case 4:case"end":return b.stop()}},b)})),function(){return b.apply(this,arguments)});return(0,o.useQuery)(p.X.user.roles(a),i,e)}(j),z=x.data,A=x.isLoading,B=x.isError,D=x.error,E=null==z?void 0:z.items,F=r?void 0:aC(j,{tree:!0},{select:(0,i.useCallback)(aO,[])}),G=(0,i.useMemo)(function(){var a;return aP(null!=E?E:[],null!==(a=null==F?void 0:F.data)&& void 0!==a?a:[])},[E,F]);if(A||(null==F?void 0:F.isLoading))return(0,g.tZ)(O.Z,{layout:"card"});if(B||!z){var H=null===D?null:(0,g.tZ)(U.Z,{children:String(D)}),I=null!=H?H:(0,g.tZ)(g.HY,{children:(0,g.tZ)(U.Z,{children:"We encountered a problem while loading Roles. Please try again in a moment."})});return(0,g.tZ)($.Z,{title:"Roles",message:I})}if(!r&&((null==F?void 0:F.isError)||!(null==F?void 0:F.data))){console.error("User groups card error: ",null==F?void 0:F.error);var J=(null==F?void 0:F.error)===null?null:(0,g.tZ)(U.Z,{children:String(null==F?void 0:F.error)}),K=null!=J?J:(0,g.tZ)(g.HY,{children:(0,g.tZ)(U.Z,{children:"We encountered a problem while loading Groups. Please try again in a moment."})});return(0,g.tZ)($.Z,{title:"Groups",message:K})}var L=(0,g.BX)(g.HY,{children:[e&&(0,g.tZ)(y.Z,{sx:{mr:1},color:"secondary",size:"small",variant:"outlined",onClick:v,children:"Add roles"}),(0,g.tZ)(y.Z,{size:"small",variant:"contained",onClick:function(){return h(!e)},children:e?"Finish edit":"Edit"})]});return(0,g.BX)(l.Z,{children:[(0,g.tZ)(n.Z,{title:"Roles",action:s.roles.update&&L}),(0,g.tZ)(m.Z,{children:e?(0,g.tZ)(aK,{user:b,joinedRoles:null!=E?E:[]}):(0,g.tZ)(aN,{roles:G})}),u&&(0,g.tZ)(aI,{currentRoles:G,userEmail:b.email,userId:b.userId,isOpen:u,hide:w})]})},aR={limit:al.UZ},aS=c(36516),aT=c(66216),aU=c(13176),aV=[{Header:"Name",accessor:"name",Cell:function(a){var b=a.row.original,c=b.roleId,d=b.name;return(0,g.tZ)(K.Z,{disableTypography:!0,children:(0,g.tZ)(aL.Z,{color:"secondary",href:"/roles/".concat(c),variant:"subtitle1",underline:"hover",fontWeight:"500",children:(0,g.tZ)(U.Z,{children:d})},c)})}},],aW=function(a){var b=function(a){var b,c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0,g=(0,q.E)(),h=(0,C.Z)({},aR,c),i=(b=(0,d.Z)(f().mark(function b(){var c;return f().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,g.get("/team/roles/memberships/".concat(a),{params:h});case 2:return c=b.sent.data,b.abrupt("return",c);case 4:case"end":return b.stop()}},b)})),function(){return b.apply(this,arguments)});return(0,o.useQuery)(p.X.role.list(h),i,e)}(a.user.userId,void 0,void 0),c=b.data,e=b.isLoading;return(0,g.BX)(l.Z,{children:[(0,g.tZ)(n.Z,{title:"Roles"}),(0,g.tZ)(m.Z,{children:e?(0,g.tZ)(O.Z,{layout:"circular"}):(0,g.tZ)(aU.Z,{data:c,columns:aV,children:(0,g.tZ)(aT.i,{})})})]})};aW.Layout=aS.default;var aX=aW,aY=c(27744),aZ=c(15550),a$=c(25255),a_=function(a){var b,c,e,h,l,m=a.data,n=a.setIsEditing,r=a.personalProfile,t=(0,i.useState)(!0),u=t[0],v=t[1],w=void 0!==r&&r?(b=(0,q.E)(),c=(0,o.useQueryClient)(),h=(e=(0,d.Z)(f().mark(function a(c){var d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=c.input,a.next=3,b.patch("/users/me",d);case 3:case"end":return a.stop()}},a)})),function(a){return e.apply(this,arguments)}),(0,o.useMutation)(h,{onSuccess:(l=(0,d.Z)(f().mark(function a(b,d){var e;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=d.userId,a.next=3,Promise.all([c.invalidateQueries(p.X.user.detail(e)),c.invalidateQueries(p.X.user.me()),c.invalidateQueries({queryKey:p.X.user.all(),refetchInactive:!0}),]);case 3:case"end":return a.stop()}},a)})),function(a,b){return l.apply(this,arguments)})})):(0,aZ.Z)(),x=(0,ac.L)().isInstanceAdmin,y=m.firstName,z=m.lastName,A=m.dateOfBirth,B=m.userId,C=m.phone,D=m.email,E=new Date,G=new Date(Date.now()-31536e8),H={firstName:y||"",lastName:z||"",email:D,dateOfBirth:A||null,phone:C||""},I=(0,am.cI)({initialValues:H,onSubmit:(0,d.Z)(f().mark(function a(){var b,c,d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=(b=(0,a$.Q)(H,N)).changes,d=b.isEmpty){a.next=6;break}return a.next=4,w.mutateAsync({userId:B,input:c}).then(function(){return j.ZP.success("User updated",{id:"userUpdateSuccess"})}).then(function(){return n(!1)}).catch(function(a){var b=a.message;return j.ZP.error(b)});case 4:a.next=7;break;case 6:n(!1);case 7:case"end":return a.stop()}},a)}))}),J=I.handleSubmit,K=I.handleChange,L=I.setDataProps,M=I.isSubmitting,N=I.data,O=null===N.dateOfBirth?N.dateOfBirth:new Date(N.dateOfBirth);return(0,g.BX)("form",{onSubmit:J,children:[(0,g.BX)(k.ZP,{container:!0,spacing:3,children:[(0,g.tZ)(k.ZP,{item:!0,xs:12,children:(0,g.tZ)(ak.C,{value:N.firstName,onBlur:K("firstName"),label:"First name"})}),(0,g.tZ)(k.ZP,{item:!0,xs:12,children:(0,g.tZ)(ak.C,{value:N.lastName,onBlur:K("lastName"),label:"Last name"})}),(0,g.tZ)(k.ZP,{item:!0,xs:12,children:(0,g.tZ)(ak.C,{value:N.email,onBlur:K("email"),label:"Email"})}),x&&(0,g.tZ)(k.ZP,{item:!0,xs:12,children:(0,g.tZ)(ak.C,{value:N.phone,onBlur:K("phone"),label:"Phone Number (international format)"})}),(0,g.tZ)(k.ZP,{item:!0,xs:12,children:(0,g.tZ)(s.Go,{id:"dateOfBirth",label:"Date of birth",date:O,errorText:u?void 0:"Invalid date",minDate:G,maxDate:E,handleOnChange:function(a){if((0,R.Z)(a)||null===a){var b=null===a|| !(0,S.Z)(a,G)&&!(0,aY.Z)(a,E);v(b)}else v(!1);L({dateOfBirth:(null==a?void 0:a.getTime())||null},"dateOfBirth")}})})]}),(0,g.tZ)(F.Z,{mt:2,children:(0,g.tZ)(Y.Z,{variant:"contained",type:"submit",loading:M,disabled:!u,fullWidth:!0,children:"Save user"})})]})},a0=function(a){var b=a.user,c=a.personalProfile,d=void 0!==c&&c,e=(0,E.Z)(a,["user","personalProfile"]),f=(0,i.useState)(!1),h=f[0],j=f[1],k=(0,ac.L)(),o=k.api,p=k.isInstanceAdmin,q=b.federated,r=b.synced,t=d?o.users.self.update:o.users.update,u=t&&(0,g.tZ)(y.Z,{size:"small",variant:"contained",onClick:function(){return j(!h)},children:h?"Close":"Edit"});return(0,g.BX)(l.Z,(0,D.Z)((0,C.Z)({},e),{children:[(0,g.tZ)(n.Z,{title:"About",action:!(r||q)&&u}),(0,g.tZ)(m.Z,{children:(0,g.BX)(g.HY,{children:[(!h||q||r)&&(0,g.BX)(s.rA,{children:[p&&(0,g.tZ)(s.VT,{label:"User ID",value:b.userId}),(0,g.tZ)(s.VT,{label:"First Name",value:b.firstName}),(0,g.tZ)(s.VT,{label:"Last Name",value:b.lastName}),p&&(0,g.tZ)(s.VT,{label:"Phone Number",value:b.phone}),(0,g.tZ)(s.VT,{label:"Date of birth",value:b.dateOfBirth&&(0,g.tZ)(s.ou,{dateStyle:"medium",time:!1,children:b.dateOfBirth})}),(0,g.tZ)(s.VT,{label:"Status",value:b.enabled?(0,g.tZ)(s.om,{label:"Enabled",icon:"check",color:"green"}):(0,g.tZ)(s.om,{label:"Disabled",icon:"error",color:"red"})}),(0,g.tZ)(s.VT,{label:"Email",value:(0,g.BX)(F.Z,{display:"flex",justifyContent:"space-between",children:[b.email,b.emailVerified?(0,g.tZ)(s.om,{label:"Verified",icon:"check",color:"green"}):(0,g.tZ)(s.om,{label:"Not verified",icon:"error",color:"red"})]})}),(0,g.tZ)(s.VT,{label:"Joined",value:b.createdAt&&(0,g.tZ)(s.ou,{dateStyle:"medium",time:!1,children:b.createdAt})})]}),h&&t&&!q&&!r&&(0,g.tZ)(a_,{data:b,personalProfile:d,setIsEditing:j})]})})]}))},a1=c(92182),a2=c(16153),a3=c(9983),a4=c(18987),a5=c(45564),a6=c(39711),a7=c(13850),a8=function(a){var b,c,e,h,i,j,k,l=a.hide,m=a.isOpen,n=a.showCreateDialog,s=a.data,t=r(),u=(e=(0,o.useQueryClient)(),h=(0,q.E)(),j=(i=(0,d.Z)(f().mark(function a(b){var c,d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.userId,a.next=3,h.delete("/admin/users/".concat(c,"/licenses"));case 3:return d=a.sent.data,a.abrupt("return",d);case 5:case"end":return a.stop()}},a)})),function(a){return i.apply(this,arguments)}),(0,o.useMutation)(j,{onSuccess:(k=(0,d.Z)(f().mark(function a(b,c){var d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=c.userId,a.abrupt("return",e.invalidateQueries(p.X.user.detail(d)));case 2:case"end":return a.stop()}},a)})),function(a,b){return k.apply(this,arguments)})}));if(!s)return(0,g.tZ)(g.HY,{});var v="userId",w=null===(b=s.attributes)|| void 0===b?void 0:null===(c=b.license_id)|| void 0===c?void 0:c[0];return(0,g.tZ)(a7.W,{hide:l,isOpen:m,data:(0,C.Z)({target:s.firstName?"".concat(s.firstName," ").concat(s.lastName):s.email,licenseId:w?Number(w):void 0},s),showCreateDialog:n,dataKey:v,assignLicense:t,unassignLicense:u})},a9=c(56173),ba=function(a){var b=a.isOpen,c=a.hide,d=(0,a1.useRouter)(),e=String(d.query.userId),f=(0,a5.Z)(e),h=f.data,i=f.isLoading,j=f.error,k=r();if(i)return(0,g.tZ)(O.Z,{});if(j)throw j;if(!h)throw Error("Organization detail error: no data");return(0,g.tZ)(a9.P,{isOpen:b,hide:c,dataKey:"userId",data:(0,D.Z)((0,C.Z)({},h),{target:h.firstName?"".concat(h.firstName," ").concat(h.lastName):h.email}),assignLicense:k})},bb=function(){var a,b=(0,q.E)(),c=(0,o.useQueryClient)();return(0,i.useCallback)((a=(0,d.Z)(f().mark(function a(d){var e,h,i,k,l;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b.post("/admin/users/".concat(d,"/license"),{});case 3:if((e=a.sent).status<400){a.next=6;break}throw Error(e.statusText);case 6:return i=(h=e.data).licenseId,k=h.trial,l=h.professionalUse,a.next=9,c.invalidateQueries(p.X.license.own());case 9:return a.next=11,c.invalidateQueries(p.X.user.detail(d));case 11:j.ZP.success((0,g.BX)(a3.Z,{children:[(0,g.tZ)(U.Z,{children:"Successfully fixed user license"}),(0,g.tZ)("ul",{children:(0,g.BX)("li",{children:["LicenseId ",i]})}),k!==l&&(0,g.tZ)(U.Z,{children:"Unfortunately, we were not able to create a trial, even though one was requested. Talk to an admin."})]})),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(0),console.error(a.t0),j.ZP.error(String(a.t0));case 18:case"end":return a.stop()}},a,null,[[0,14]])})),function(b){return a.apply(this,arguments)}),[b,c])},bc=function(a){var b=a.userId,c=bb();return(0,g.BX)(l.Z,{children:[(0,g.tZ)(n.Z,{title:"Fix license"}),(0,g.tZ)(m.Z,{children:(0,g.tZ)(U.Z,{children:"It looks like this user has no license. Do you want to try and fix that?"})}),(0,g.tZ)(a2.Z,{children:(0,g.tZ)(y.Z,{variant:"contained",onClick:function(){return c(b)},children:"Yes"})})]})},bd=(0,u.Z)(function(){var a=(0,ac.L)().isInstanceAdmin,b=String((0,a1.useRouter)().query.userId),c=(0,a5.Z)(b),d=c.data,e=c.isLoading,f=c.error,h=(0,a4.Z)(null==d?void 0:d.licenseId,{enabled:!!(null==d?void 0:d.licenseId)}),i=h.data,j=h.isLoading,k=h.error,l=(0,P.Z)(ba),m=l.dialog,n=l.isOpen,o=l.show,p=(0,P.Z)(a8,{showCreateDialog:o,data:d}),q=p.dialog,r=p.isOpen,s=p.show;if(e)return(0,g.tZ)(O.Z,{layout:"card"});if(a&&(f||!d))return(0,g.tZ)(bc,{userId:b});if(f)throw f;if(!d)throw Error("User detail error: no data");if(j)return(0,g.tZ)(O.Z,{layout:"card"});if(a&&(f||!i))return(0,g.tZ)(bc,{userId:b});if(k)throw k;if(!i)throw Error("License detail error: no data");var t=(0,g.tZ)(y.Z,{size:"medium",variant:"contained",onClick:function(){return s({data:d})},children:"Change license"});return(0,g.BX)(g.HY,{children:[r&&q,n&&m,(0,g.tZ)(a6.Z,{title:"License",license:i,headerAction:t})]})},{layout:"card",title:"License"}),be=c(31748),bf=(0,h.default)().publicRuntimeConfig.features.manageApiKeys,bg=function(a){var b=a.userData.organizationId;return b?(0,g.tZ)(v.Y,{organizationId:b,title:"Organization"}):(0,g.BX)(l.Z,{children:[(0,g.tZ)(n.Z,{title:"No Organization"}),(0,g.tZ)(m.Z,{children:"This user owns an Organization license but has not created an organization yet."})]})},bh=function(a){var b=a.userData.teamId;return b?(0,g.tZ)(w.k,{teamId:b,title:"Team"}):(0,g.BX)(l.Z,{children:[(0,g.tZ)(n.Z,{title:"No Team"}),(0,g.tZ)(m.Z,{children:"This user owns a Team license but has not created a team yet."})]})},bi=(0,u.Z)(function(a){var b,c,e,h,k=a.userData,l=(b=k.email,c=(0,q.E)(),h=(e=(0,d.Z)(f().mark(function a(){var d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.get("/admin/licenses/".concat(b));case 2:return d=a.sent.data,a.abrupt("return",d);case 4:case"end":return a.stop()}},a)})),function(){return e.apply(this,arguments)}),(0,o.useQuery)(p.X.license.detailByEmail(b),h,void 0)),m=l.data,n=l.error,u=l.isLoading,v=r(),w=(0,i.useCallback)((0,d.Z)(f().mark(function a(){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(m){a.next=2;break}throw Error("License not loaded");case 2:return a.prev=2,a.next=5,v.mutateAsync({userId:k.userId,licenseId:m.licenseId});case 5:j.Am.success(" Successfully fixed user license"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),console.error(a.t0);case 11:case"end":return a.stop()}},a,null,[[2,8]])})),[k,m,v]);if(u)return null;if(n)return(0,g.tZ)(s._U,{title:"License Check",message:n.message});if(!m)throw Error("Data missing");return(0,t.t)({attr:k,license:m,fix:w})},{layout:"card",title:"License Check"}),bj=function(a){var b=a.userData,c=(0,ac.L)(),d=c.api,e=c.license,f=c.isInstanceAdmin,h=c.requireOwnerOrTeamRoleAnyOf,i=c.isTeamRolesEnabled,j=b.userId,l=(0,be.E)().keycloak,m=(null==l?void 0:l.subject)===j;return(0,g.BX)(k.ZP,{container:!0,spacing:3,children:[(0,g.tZ)(k.ZP,{item:!0,xs:12,md:6,children:(0,g.tZ)(a0,{user:b,personalProfile:m})}),d.roles.read&&(0,g.tZ)(k.ZP,{item:!0,xs:12,md:6,children:(0,g.tZ)(aQ,{user:b})}),i&&h("admin","dpo")&&(0,g.tZ)(k.ZP,{item:!0,xs:6,children:(0,g.tZ)(aX,{user:b})}),f&&(0,g.tZ)(k.ZP,{item:!0,xs:12,md:6,children:(0,g.tZ)(bd,{})}),m&&!b.federated&&!b.synced&&(0,g.tZ)(k.ZP,{item:!0,xs:12,md:6,children:(0,g.tZ)(aq,{})}),m&&!b.federated&&!b.synced&&(0,g.tZ)(k.ZP,{item:!0,xs:12,md:6,children:(0,g.tZ)(ai,{user:b})}),d.groups.read&&(0,g.tZ)(k.ZP,{item:!0,xs:12,md:6,children:(0,g.tZ)(aE,{userId:b.userId})}),f&&"organization"===b.licenseScope&&(0,g.tZ)(k.ZP,{item:!0,xs:6,children:(0,g.tZ)(bg,{userData:b})}),f&&"team"===b.licenseScope&&(0,g.tZ)(k.ZP,{item:!0,xs:6,children:(0,g.tZ)(bh,{userData:b})}),f&&(0,g.tZ)(k.ZP,{item:!0,xs:6,children:(0,g.tZ)(bi,{userData:b})}),m&&bf&&e.users.apiKeys&&(0,g.tZ)(k.ZP,{item:!0,xs:12,children:(0,g.tZ)(W,{})})]})}},78953:function(a,b,c){c.d(b,{BR:function(){return o},BV:function(){return p},SI:function(){return l},Uo:function(){return i},Y0:function(){return n},"_":function(){return g},"_G":function(){return k},mh:function(){return j},sr:function(){return m},tt:function(){return f},uY:function(){return h},yk:function(){return e}});var d=c(94913),e=RegExp(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*$/);function f(a){return e.test(a)}function g(a){return(0,d.Z)(a.trim().matchAll(/(?:"([^"]+)")? ?<?(.*?@[^>,]+)>?,? ?/g))}RegExp(/((https):\/\/)(www.)?[-a-z0-9]+(\.[a-z]{2,}){1,3}(#?\/?[a-zA-Z0-9#]+)*\/?(\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/);var h=RegExp(/^([A-Za-z0-9_\-.]{1,25})@([A-Za-z0-9_\-.]{1,50})$/),i=RegExp(/^[\d|+.()\s/-]+$/),j=RegExp(/^[A-Za-z0-9._ -]+$/),k=RegExp(/^[a-z0-9-]+$/),l=j,m=RegExp(/^[A-Za-z0-9._-]+$/),n=function(a,b){return RegExp("^(?=.{".concat(a,",").concat(b,"}$)[a-z]+[a-z0-9]+$"),"g")},o=RegExp(/^\S+$/),p=RegExp(/^(?=.*?[a-z])(?=.*?[A-Z])(?=.*?[0-9]).*$/)},93893:function(a,b,c){c.d(b,{"$u":function(){return g},"_n":function(){return i},"_u":function(){return h},ah:function(){return f}});var d=c(66967),e=c(78953);(0,d.Ry)({name:(0,d.Z_)().required("Group name can't be empty")}),(0,d.Ry)({alias:(0,d.Z_)().matches(e.uY,"Invalid alias").required("Alias can't be empty")});var f=(0,d.Ry)({name:(0,d.Z_)().required("Role name can't be empty")});(0,d.Ry)({dateOfBirth:(0,d.hT)().nullable().min(new Date(-22089924e5),"Date can't be before 01/01/1900").max(new Date(Date.now()-864e5),"Date must be in the past").typeError("Invalid date")});var g=(0,d.Ry)({deviceName:(0,d.Z_)().min(3,"Device name needs to be at least 3 characters long").required("Device can't be empty"),initialCode:(0,d.Z_)().matches(/^[0-9]+$/,"Must only contain digits").min(6,"OTP code must be either 6 or 8 digits long").max(8,"OTP code must be either 6 or 8 digits long").required("Initial OTP code is required")}),h=(0,d.Ry)({name:(0,d.Z_)().trim().required("Permission Set name can't be empty")}),i=(0,d.Ry)({name:(0,d.Z_)().trim().required("Organization name can't be empty")});(0,d.Ry)({currentPassword:(0,d.Z_)().required("Your current password is required"),password:(0,d.Z_)().required("New password is required"),passwordConfirmation:(0,d.Z_)().required("Password confirmation is required").oneOf([(0,d.iH)("password"),null],"Passwords must match")}),(0,d.Ry)({email:(0,d.Z_)().matches(e.yk,"Email address invalid ").required("Email can't be empty")})}}])