"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6516],{36516:function(a,b,c){c.r(b),c.d(b,{default:function(){return an}});var d=c(15865),e=c(26288),f=c.n(e),g=c(70079),h=c(39175),i=c(38302),j=(0,i.ZP)("div")(function(a){return{backgroundColor:a.theme.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"}}),k=(0,i.ZP)("div")(function(a){var b=a.theme;return(0,h.Z)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:"88px"},b.breakpoints.up("lg"),{paddingLeft:256})}),l=(0,i.ZP)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),m=(0,i.ZP)("div")({flex:"1 1 auto",height:"100%",overflow:"auto",position:"relative",WebkitOverflowScrolling:"touch"}),n=c(71366),o=c(89411),p=c(69132),q=c(2794),r=c(74439),s=c(49318),t=c(52200),u=c(17280),v=c(64056),w=c(16176),x=c(90645),y=c(31748),z=c(82984),A=c(57701),B=c(64829),C=(0,n.default)(),D=C.publicRuntimeConfig,E=(0,t.Z)(p.Z)(function(a){var b,c=a.theme;return b={boxShadow:"none"},(0,h.Z)(b,c.breakpoints.up("lg"),{width:"calc(100% - 256px)"}),(0,h.Z)(b,"background","linear-gradient(".concat(c.palette.background.default," 85%, rgba(250, 250, 250, .05))")),(0,h.Z)(b,"zIndex",101),b}),F=function(a){var b,c,e,f,g,h=a.onSidebarMobileOpen,i=(0,A.z)(),j=i.publicKey,k=i.dynamicManagement,l=(0,z.L)(),m=l.license,n=l.api,p=(0,y.E)().keycloak,t=m.product,C=m.isTrial,F=null==p?void 0:p.token,G=null==p?void 0:null===(b=p.tokenParsed)|| void 0===b?void 0:null===(c=b.impersonator)|| void 0===c?void 0:c.username,H=null===(e=null!==(g=null==p?void 0:p.refreshTokenParsed)&& void 0!==g?g:null==p?void 0:p.tokenParsed)|| void 0===e?void 0:e.exp,I=null==p?void 0:null===(f=p.tokenParsed)|| void 0===f?void 0:f.preferredUsername,J=k&&!!j&&(!!("standard_1"===t&&!C||"advanced_1"===t&&!C)||n.configLayer.update);return(0,d.tZ)(B.qJ,{url:"".concat(D.anydeskWs,"/notifications?token=").concat(F),children:(0,d.BX)(E,{children:[G&&(0,d.BX)(q.Z,{sx:{backgroundColor:x.yw,color:"white",padding:".5em",textAlign:"center"},children:["You (",G,") are impersonating a different user (",I,"). Be cautious and close this window when done."," ",H&&(0,d.BX)(d.HY,{children:["This impersonation session is valid until"," ",(0,d.tZ)(u.ou,{children:1e3*H})]}),"."]}),(0,d.BX)(s.Z,{sx:{minHeight:64},children:[(0,d.tZ)(q.Z,{sx:{display:{xs:"block",lg:"none"}},children:(0,d.tZ)(r.Z,{color:"secondary",onClick:h,children:(0,d.tZ)(o.Icons.Menu,{size:"lg"})})}),(0,d.tZ)(q.Z,{flexGrow:1,ml:2}),J&&(0,d.tZ)(q.Z,{mr:4,children:(0,d.tZ)(u.DW,{})}),(0,d.tZ)(q.Z,{children:(0,d.tZ)(w.Z,{})}),(0,d.tZ)(q.Z,{children:(0,d.tZ)(v.Z,{})})]})]})})},G=F,H=c(28409),I=c(92182),J=c(46951),K=c(23781),L=c(77457),M=c(61750),N=c(3629),O=c(41249),P=c(70184),Q=c.n(P),R=c(67908),S=c(22056),T=c(75479),U=c(57744),V=c(65661),W=function(a){return(0,d.tZ)(V.ZP,{disableGutters:!0,sx:{display:"flex",py:0},children:(0,d.tZ)(u.fe,(0,H.Z)({},a))})},X=c(94276),Y=c(18987),Z=c(10287),$=function(a){var b=a.license,c=(0,Z.t)(b),e=c.handleUpgrade,f=c.upgradeLegacyDialog;return(0,d.BX)(q.Z,{sx:{display:"flex",flexFlow:"column",alignItems:"center"},children:[(0,d.tZ)(J.Z,{sx:{textAlign:"center",paddingBottom:"10px"},variant:"body2",color:"textPrimary",children:"Upgrade to receive access to User Management"}),(0,d.tZ)(X.Z,{size:"small",variant:"outlined",onClick:e,children:"Upgrade Now"}),(0,d.tZ)(U.Z,{href:window.location.href,variant:"body2",sx:{padding:"10px"},onClick:function(){window.localStorage.setItem("dismissed_promotion","1")},children:"Dismiss"}),f]})},_=function(){var a=(0,Y.Z)(),b=a.isLoading,c=a.data,e=a.error;return b?null:e?(console.error(e),null):c?(0,d.tZ)($,{license:c}):(console.error("no data"),null)},aa=c(72569),ab=c(29240),ac=c(17086),ad=c(29030),ae=c(66082),af=function(a){var b=a.title,c=a.disabled,e=a.icon,f=a.isOpen,g=a.onClick;return(0,d.tZ)(V.ZP,{disableGutters:!0,sx:{display:"flex",py:0},children:(0,d.tZ)(X.Z,{disabled:c,startIcon:e,endIcon:f?(0,d.tZ)(o.Icons.ChevronDown,{}):(0,d.tZ)(o.Icons.ChevronRight,{}),variant:"text",onClick:g,sx:{color:"text.secondary",fontWeight:"fontWeightMedium",justifyContent:"flex-start",textAlign:"left",pl:4,pr:4,py:1.5,textTransform:"none",borderRadius:0,width:"100%"},children:(0,d.tZ)(ae.ZP,{container:!0,children:(0,d.tZ)(ae.ZP,{ml:1,item:!0,children:b})})})})},ag=function(a){var b=a.depth,c=void 0===b?0:b,e=a.items;return(0,d.tZ)(M.Z,{disablePadding:!0,children:e.filter(function(a){var b=a.hasGrant,c=a.disabled;return null==b||b||!!c}).reduce(function(a,b){return ah({acc:a,item:b,depth:c})},[])})},ah=function(a){var b,c=a.acc,e=a.item,f=a.depth,g="".concat(e.title,"-").concat(f),h=(0,I.useRouter)(),i=null===(b=e.path)|| void 0===b?void 0:b.split("/"),j=h.pathname.split("/"),k=!!e.path&&h.pathname===e.path,l=!!i&&(k||j[1]===i[1]&&h.pathname.includes(e.path));if(e.children){var m=e.children.map(function(a){return a.path}).includes(h.pathname);c.push((0,d.tZ)(W,{active:m,disabled:!!e.disabled,tooltip:"string"==typeof e.disabled?e.disabled:void 0,depth:f,icon:e.icon,info:e.info,path:e.path,title:e.title,children:ag({depth:f+1,items:e.children})},g))}else c.push((0,d.tZ)(W,{active:l,disabled:!!e.disabled,tooltip:"string"==typeof e.disabled?e.disabled:void 0,depth:f,icon:e.icon,info:e.info,path:e.path,title:e.title},g));return c},ai=function(a){var b=a.items,c=a.title,e=(a.hasGrant,a.dividers),f=a.extraComponent,h=a.backgroundColor,i=a.showMenu,j=a.root,k=(0,ab.Z)(a,["items","title","hasGrant","dividers","extraComponent","backgroundColor","showMenu","root"]),l=(0,g.useState)(!1),m=l[0],n=l[1],o=b.filter(function(a){return null==a?void 0:a.hasGrant});return(0,d.BX)(q.Z,{sx:{backgroundColor:h},children:[e&&(0,d.tZ)(K.Z,{}),(0,d.tZ)(M.Z,(0,aa.Z)((0,H.Z)({subheader:(0,d.tZ)(ad.Z,{sx:{mb:2},children:c})},k),{children:i&&o.length>0?(0,d.BX)(d.HY,{children:[(0,d.tZ)(af,{title:j,icon:i,isOpen:m,onClick:function(){return n(!m)}}),(0,d.tZ)(ac.Z,{in:m,timeout:"auto",unmountOnExit:!0,children:ag({items:b})})]}):ag({items:b})})),f,e&&(0,d.tZ)(K.Z,{})]})},aj=c(75677),ak=c(18877),al=(0,n.default)().publicRuntimeConfig.features,am=function(a){var b,c,e,f,h,i,j=a.onMobileClose,k=a.openMobile,l=(0,z.L)(),m=l.sidebar,n=l.license,p=l.canCreateOrg,r=l.canCreateTeam,s=l.hasOwnOrg,t=l.isTeamOwner,v=l.permitTeamRoleAnyOf,w=l.requireOwnerOrTeamRoleAnyOf,y=l.isInstanceAdmin,B=l.api,C=(0,A.z)(),D=C.dynamicManagement,E=C.isStdAdvTrial,F=C.publicKey,G=al.contactForms&&"free"!==n.product,P=al.settingsSet&&!ak.RV.includes(null!==(b=n.product)&& void 0!==b?b:""),V=p||s,X=p?"Please finalize the Organization setup to access this page":r?"Please finalize the Team setup to access this page":s?"Please login via your Organization to access this page":void 0,Y=(c=(0,T.E)(),f=(e=(0,O.Z)(Q().mark(function a(){var b;return Q().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.get("/version");case 2:return b=a.sent.data,a.abrupt("return",b);case 4:case"end":return a.stop()}},a)})),function(){return e.apply(this,arguments)}),(0,R.useQuery)(S.X.version.info(),f)),Z=Y.data,$=[{root:"Overview",items:[{title:"Dashboard",path:"/",hasGrant:m.overview.dashboard,icon:(0,d.tZ)(o.Icons.Dashboard,{})},]},{root:"User Management",hasGrant:!y,items:[{title:"Users",path:"/users",hasGrant:m.overview.users&&n.users.page&&v("admin","supporter","dpo"),disabled:(V||r)&&X,icon:(0,d.tZ)(o.Icons.Users,{})},{title:"Groups",path:"/groups",hasGrant:m.overview.groups&&n.groups.page,disabled:V&&X,icon:(0,d.tZ)(o.Icons.Groups,{})},{title:"Roles",path:"/roles",hasGrant:m.overview.roles&&n.roles.page||"advanced_1"===n.product&&w("admin","dpo"),disabled:V&&X||"advanced_1"===n.product&&r,icon:(0,d.tZ)(o.Icons.Roles,{})},{title:"Permission Sets",path:"/permission-sets",hasGrant:m.management.permissionSets&&n.permSet.page,disabled:V&&X,icon:(0,d.tZ)(o.Icons.Permissions,{})},]},(h=n,i=t,"standard_1"===h.product&&i&&h.isTrial&&"1"!==window.localStorage.getItem("dismissed_promotion")&&{root:"Promotion",dividers:!0,backgroundColor:x.ql,items:[{title:"Groups",hasGrant:!0,disabled:!0,icon:(0,d.tZ)(o.Icons.Users,{})},{title:"Roles",hasGrant:!0,disabled:!0,icon:(0,d.tZ)(o.Icons.Roles,{})},{title:"Permission Sets",hasGrant:!0,disabled:!0,icon:(0,d.tZ)(o.Icons.Permissions,{})},],extraComponent:(0,d.tZ)(_,{})}),{root:"Asset Management",hasGrant:!y,items:[{title:n.addressBooks.list&&B.addressBooks.read?"Address Books":"Address Book",path:"/address-books",hasGrant:m.management.addressBooks,icon:(0,d.tZ)(o.Icons.AddressBook,{})},{title:"Clients",path:"/clients",hasGrant:m.overview.clients&&v("admin","dpo","user","supporter"),disabled:"free"===n.product&&!al.listImplicitClients&&"Coming soon",icon:(0,d.tZ)(o.Icons.Monitor,{}),info:D&&!E&&!!F&&(0,d.tZ)(u.qo,{label:"New",color:"success"})},{title:"Sessions",path:"/sessions",hasGrant:m.overview.sessions&&v("admin","dpo"),disabled:!n.sessions.page&&"To view your Session History, please upgrade your license",icon:(0,d.tZ)(o.Icons.Sessions,{})},{title:"Builds",path:"/builds",hasGrant:m.management.builds&&n.builds.page&&v("admin","user"),icon:(0,d.tZ)(o.Icons.Builds,{}),info:D&&!E&&!!F&&(0,d.tZ)(u.qo,{label:"New",color:"success"})},{title:"Dynamic Configs",path:"/dynamic-config",hasGrant:D&&!E&&al.extraDebugUI,icon:(0,d.tZ)(o.Icons.DynamicConfig,{}),tooltip:X,info:(0,d.tZ)(J.Z,{variant:"caption",color:x.yw,children:"Debug"})},]},{root:"Settings",hasGrant:!y&&P,showMenu:(0,d.tZ)(o.Icons.ContactTS,{}),items:[{title:"Organization",path:"/settings/organization",hasGrant:m.admin.organization&&n.organization.page,icon:(0,d.tZ)(o.Icons.Organization,{}),info:D&&!!F&&(0,d.tZ)(u.qo,{label:"New",color:"success"})},{title:"Team",path:"/settings/team",hasGrant:m.settings.team&&w(),icon:(0,d.tZ)(o.Icons.TeamLeave,{}),info:D&&!E&&!!F&&(0,d.tZ)(u.qo,{label:"New",color:"success"})},{title:"User Provider",path:"/settings/user-provider",hasGrant:m.admin.organization&&n.organization.page,icon:(0,d.tZ)(o.Icons.HelpCenter,{})},{title:"Client Rules",path:"/settings/client-rules",hasGrant:!1,icon:(0,d.tZ)(o.Icons.ClientAction,{}),info:D&&!!F&&(0,d.tZ)(u.qo,{label:"New",color:"success"})},]},{root:"Administration",hasGrant:!y,items:[{title:"Organization",path:"/settings/organization",hasGrant:m.admin.organization&&n.organization.page&&!P,icon:(0,d.tZ)(o.Icons.Organization,{})},{title:"License",path:"/license",hasGrant:m.admin.licenses&&v("admin","dpo"),icon:(0,d.tZ)(o.Icons.License,{})},{title:"Invoice and contract",path:"/invoices",hasGrant:!m.admin.licenses&&m.admin.invoices,icon:(0,d.tZ)(o.Icons.License,{})},]},{root:"Instance Administration",hasGrant:y,items:[{title:"Users",path:"/users",icon:(0,d.tZ)(o.Icons.Users,{})},{title:"Teams",path:"/superadmin/teams",icon:(0,d.tZ)(o.Icons.Groups,{})},{title:"Organizations",path:"/superadmin/organizations",icon:(0,d.tZ)(o.Icons.Organization,{})},{title:"Customers",path:"/superadmin/customers",icon:(0,d.tZ)(o.Icons.Roles,{})},{title:"Subscriptions",path:"/superadmin/subscriptions",icon:(0,d.tZ)(o.Icons.Invoice,{})},{title:"Licenses",path:"/superadmin/licenses",icon:(0,d.tZ)(o.Icons.License,{})},]},{root:"Anydesk Tools",hasGrant:!y,items:[{title:"Go.anydesk",path:"/go-anydesk",hasGrant:m.overview.go,icon:(0,d.tZ)(o.Icons.GoAnyDesk,{}),info:(0,d.tZ)(u.qo,{label:"Beta",color:"primary"})},]},].filter(Boolean),aa=(0,I.useRouter)(),ab=(0,N.Z)(function(a){return a.breakpoints.up("lg")});(0,g.useEffect)(function(){j&&j()},[aa.pathname,j]);var ac=(0,d.BX)(q.Z,{display:"flex",flexDirection:"column",height:"100%",children:[(0,d.tZ)(q.Z,{mt:4,pb:3,px:2,justifyContent:"center",display:"flex",children:(0,d.tZ)(U.Z,{href:"/",id:"ad-logo",children:(0,d.tZ)(o.Icons.Logo,{custom:!0,width:"133",height:"32",fill:x.I9})})}),(0,d.tZ)(q.Z,{flexGrow:1,children:$.filter(function(a){return!1!==a.hasGrant}).map(function(a){return(0,d.tZ)(ai,(0,H.Z)({},a),a.root)})}),Z&&(0,d.tZ)(q.Z,{textAlign:"center",mb:1,children:(0,d.tZ)(J.Z,{variant:"body2",fontSize:"small",color:x.Z7,children:Z})}),(0,d.tZ)(K.Z,{}),(0,d.tZ)(q.Z,{children:(0,d.BX)(M.Z,{children:[(0,d.tZ)(W,{icon:(0,d.tZ)(o.Icons.QuestionHelpCircle,{}),depth:0,title:"Help & Contact",openNewTab:!G,path:G?"/help":aj.lw}),(0,d.tZ)(W,{icon:(0,d.tZ)(o.Icons.ShieldCheck,{}),depth:0,title:"Privacy",path:aj.n8,openNewTab:!0})]})})]});return ab?(0,d.tZ)(L.ZP,{anchor:"left",open:!0,variant:"permanent",children:ac}):(0,d.tZ)(L.ZP,{anchor:"left",onClose:j,open:k,variant:"temporary",children:ac})},an=function(a){var b=a.children,c=(0,g.useState)(!1),e=c[0],h=c[1],i=(0,g.useCallback)(function(){return h(!1)},[]);return(0,d.BX)(j,{children:[(0,d.tZ)(f(),{children:(0,d.tZ)("title",{children:"my.anydesk"})}),(0,d.tZ)(G,{onSidebarMobileOpen:function(){return h(!e)}}),(0,d.tZ)(am,{onMobileClose:i,openMobile:e}),(0,d.tZ)(k,{children:(0,d.tZ)(l,{children:(0,d.tZ)(m,{children:b})})})]})}}}])