"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9711],{85047:function(a,b,c){c.d(b,{Z:function(){return j}});var d=c(41249),e=c(70184),f=c.n(e),g=c(67908),h=c(22056),i=c(75479);function j(){var a,b=(0,g.useQueryClient)(),c=(0,i.E)(),e=(a=(0,d.Z)(f().mark(function a(b){var d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.patch("/admin/licenses/".concat(b.licenseId),b);case 2:return d=a.sent.data,a.abrupt("return",d);case 4:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}),j=function(){return b.invalidateQueries(h.X.license.own())};return(0,g.useMutation)(e,{onSuccess:j})}},39711:function(a,b,c){var d=c(41249),e=c(28409),f=c(72569),g=c(27219),h=c(70184),i=c.n(h),j=c(15865),k=c(70079),l=c(10969),m=c(89411),n=c(49602),o=c(20154),p=c(11753),q=c(83206),r=c(74439),s=c(9983),t=c(20864),u=c(34647),v=c(59345),w=c(85047),x=c(17280),y=c(65471),z=c(75677),A=c(5987),B=c(18877),C=c(82984),D=c(52708),E=function(a){var b=a.name,c=a.size;return(0,j.BX)(j.HY,{children:[b," ","number"==typeof c&&"(size ".concat(c,")")," ",(0,j.tZ)("br",{})]})},F=function(a){var b,c=a.namespaces,d=null!==(b=null==c?void 0:c.length)&& void 0!==b?b:0;if(d>0){var f=null==c?void 0:c.map(function(a){return(0,j.tZ)(E,(0,e.Z)({},a),a.name+a.size)});return(0,j.tZ)(x.VT,{label:d>1?"Namespaces":"Namespace",value:f})}return(0,j.tZ)(x.VT,{label:"Namespace",value:(0,j.tZ)(x.om,{label:"None"})})},G=function(a){var b,c=a.isOpen,g=a.hide,h=a.license,m=(0,w.Z)(),o=(0,k.useState)(h.expires),p=o[0],q=o[1],r=(b=(0,d.Z)(i().mark(function a(){return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,m.mutateAsync({expires:p,licenseId:h.licenseId});case 3:l.ZP.success((0,j.BX)(j.HY,{children:["Updated License ",h.licenseId," successfully!"]})),g(),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),console.error(a.t0),l.ZP.error((0,j.BX)(j.HY,{children:["Failed to update limits: ",String(a.t0)]}));case 11:case"end":return a.stop()}},a,null,[[0,7]])})),function(){return b.apply(this,arguments)}),s=(0,j.tZ)(j.HY,{children:(0,j.tZ)(t._,{dateAdapter:v.H,adapterLocale:(0,D.Gr)((0,D.Kd)()),children:(0,j.tZ)(u.M,{label:(0,j.tZ)(j.HY,{children:"Expiration date"}),value:p,views:["year","month","day"],onChange:function(a){a&&q(a.getTime())},renderInput:function(a){return(0,j.tZ)(n.Z,(0,f.Z)((0,e.Z)({},a),{id:h.name,name:h.name,variant:"standard",value:p||null,size:"small",fullWidth:!0}))}})})});return(0,j.tZ)(x.dm,{isOpen:c,hide:g,onAccept:function(){return r()},actionTitle:"Edit License Expiration Date",actionContent:s,actionBtnText:"Save",hideSecondaryBtn:!0,fullWidth:!0})},H=function(a){var b,c,d,e,f,h=a.headerAction,i=a.rowActions,k=a.license,l=a.title,n=a.customerData,t=k.product,u=k.licenseId,v=k.licenseKey,w=k.expires,E=k.maxClientCount,H=k.maxSessionsOut,I=k.maxConnectionsOut,J=k.testLicense,K=k.contractId,L=k.scope,M=k.updated,N=k.ruleVersion,O=k.maxRosterCount,P=k.maxRosterItemsCount,Q=(0,D.aQ)(w),R=(0,C.L)(),S=R.isInstanceAdmin,T=R.license,U=B.Gc.filter(function(a){return"ent_cloud_1"!==a&&"ult_cloud_1"!==a}).includes(t),V=(0,g.Z)((e=[null!=H?H:(0,j.tZ)("em",{children:"Unlimited"}),"Sessions"],f=[null!=I?I:(0,j.tZ)("em",{children:"Unlimited"}),"Connections"],("professional-1"!==k.name||k.powerUser)&&B.sQ.includes(t)?f:e),2),W=V[0],X=V[1],Y=(0,A.Z)(G),Z=Y.dialog,$=Y.show,_=Q<0?(0,j.tZ)(x.om,{label:"Expired",icon:"cancel",color:"red"}):Q<z.WU?(0,j.tZ)(x.om,{label:"Expires soon",icon:"error",color:"red"}):(0,j.tZ)(x.om,{label:"Active",icon:"check",color:"green"}),aa=S?(0,j.tZ)(x.rU,{href:"/superadmin/licenses/".concat(u),children:u}):u;return(0,j.BX)(o.Z,{children:[(0,j.tZ)(p.Z,{title:l||"About",action:h}),(0,j.tZ)(q.Z,{children:k?(0,j.BX)(x.rA,{variant:"relaxed",children:[(0,j.tZ)(x.VT,{label:"Product Name",value:(0,j.BX)(s.Z,{display:"flex",justifyContent:"space-between",children:[(0,y.G)(t),J&&(0,j.tZ)(s.Z,{pl:1,children:(0,j.tZ)(x.om,{label:"Trial",icon:"error",color:"orange"})})]}),action:null==i?void 0:i.upgrade}),S&&(0,j.tZ)(x.VT,{label:"License ID",value:aa}),(S||"free"!==t)&&(0,j.tZ)(x.VT,{label:"License Key",value:v,action:null==i?void 0:i.reset}),(S||n)&&(0,j.tZ)(x.VT,{label:"Customer ID",value:null!==(b=null==n?void 0:n.customerId)&& void 0!==b?b:"None"}),(S||(null==T?void 0:T.isEndUser))&&(0,j.tZ)(x.VT,{label:"Contract ID",value:K}),S&&(0,j.BX)(j.HY,{children:[(0,j.tZ)(x.VT,{label:"Scope",value:"team"===L?(0,j.tZ)(x.rU,{href:"superadmin/teams?search=".concat(u),children:L}):L}),(0,j.tZ)(x.VT,{label:"Rule Version",value:null!=N?N:(0,j.tZ)("em",{children:"none"})}),(0,j.tZ)(x.VT,{label:"Updated",value:(0,j.tZ)(x.ou,{time:!1,children:M})})]}),(0,j.tZ)(x.VT,{label:"Expiration Date",value:(0,j.tZ)(x.ou,{time:!1,children:w}),action:S&&(0,j.tZ)(j.HY,{children:(0,j.tZ)(r.Z,{color:"primary",onClick:function(){return $({license:k})},children:(0,j.tZ)(m.Icons.PencilWrite,{})})})}),(0,j.tZ)(x.VT,{label:"Status",value:_}),(S||U)&&(0,j.tZ)(x.VT,{label:"Users",value:null!==(c=(0,y.w)(k))&& void 0!==c?c:(0,j.tZ)("em",{children:"Unlimited"})}),(0,j.tZ)(x.VT,{label:"Clients",value:null!=E?E:(0,j.tZ)("em",{children:"Unlimited"})}),(0,j.tZ)(x.VT,{label:X,value:W}),(S||!B.RV.includes(null!==(d=t)&& void 0!==d?d:""))&&(0,j.tZ)(x.VT,{label:"Shared Address Books",value:null!=O?O:(0,j.tZ)("em",{children:"Unlimited"})}),(S||!["essentials_1"].includes(null!=t?t:""))&&(0,j.tZ)(x.VT,{label:"Address Book Items",value:null!=P?P:(0,j.tZ)("em",{children:"Unlimited"})}),(S||"free"!==t)&&(0,j.tZ)(F,{namespaces:k.namespaces})]}):(0,j.tZ)(j.HY,{children:"No License Assigned"})}),Z]})};b.Z=H},65471:function(a,b,c){c.d(b,{G:function(){return e},w:function(){return f}});var d=c(75677),e=function(a){return({none:"None",free:"Free",solo_1:"Solo",single_1:"Single",standard_1:"Standard",advanced_1:"Advanced",essentials_1:"Essentials","essentials-1":"Essentials",perform_1:"Performance","performance-1":"Performance",ent_cloud_1:"Enterprise Cloud","ent-cloud-1":"Enterprise Cloud",ult_cloud_1:"Ultimate Cloud","ult-cloud-1":"Ultimate Cloud",ent_onprem_1:"Enterprise On Premises","ent-onprem-1":"Enterprise On Premises",ult_onprem_1:"Ultimate On Premises","ult-onprem-1":"Ultimate On Premises",lite_1:"Lite","lite-1":"Lite",lite_2:"Lite","lite-2":"Lite",prof_1:"Professional","professional-1":"Professional",prof_2:"Professional","professional-2":"Professional",power_1:"Power","power-1":"Power",small_1:"Small",larger_1:"Large",ent_1:"Enterprise",vestas_1:"Enterprise",onprem_1:"Enterprise On Premises",myanydesk:"my.anydesk"})[a]||"Unknown"},f=function(a){switch(a.product){case"solo_1":return 1;case"standard_1":return d.Bs;case"advanced_1":return d.lv;case"ent_1":case"onprem_1":case"vestas_1":case"ent_onprem_1":case"ult_onprem_1":case"ent_cloud_1":case"ult_cloud_1":case"myanydesk":return 0;default:return a.maxSessionsOut?Math.ceil(a.maxSessionsOut/3):1}}}}])